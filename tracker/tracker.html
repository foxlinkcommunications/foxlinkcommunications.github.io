<!DOCTYPE html>
<html>
<head>
    <title>Hours/Mileage/Job Tracker</title>
    <link rel="icon" href="../images/logo-small.png" type="image/png">
    <link rel="apple-touch-icon" sizes="180x180" href="../images/app-logo.png">
    <link rel="stylesheet" href="tracker.css">
    <style>
        .logo-container {
            width: 100%;
            text-align: center;
            margin-bottom: 20px;
        }

        .logo-image {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <img src="../images/logo.png" alt="FoxLink Communications" class="logo-image">
        </div>
        <div class="tracker-form">
            <h1>Job Tracker</h1>
            <form id="tracker-form" onsubmit="submitForm(event)" method="post">
                <div class="form-group">
                    <label for="Order-Number">Job/Service Order Number</label>
                    <input type="text" id="Order-Number" name="Order-Number" required>
                </div>
                <div class="form-group">
                    <label for="JobType">Job Type</label>
                    <div>
                        <label>
                            <input type="radio" name="Type" value="Job" required> Job
                        </label>
                        <label>
                            <input type="radio" name="Type" value="Service" required> Service
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="Mileage-Start">Mileage Start</label>
                    <input type="number" id="Mileage-Start" name="Mileage-Start" required>
                </div>
                <div class="form-group">
                    <label for="Mileage-End">Mileage End</label>
                    <input type="number" id="Mileage-End" name="Mileage-End" required>
                </div>
                <div class="form-group">
                    <label for="Date">Date</label>
                    <input type="date" id="Date" name="Date" required>
                </div>
                <div class="form-group">
                    <label for="Time-Start">Time Start</label>
                    <input type="time" id="Time-Start" name="Time-Start" required>
                </div>
                <div class="form-group">
                    <label for="Time-End">Time End</label>
                    <input type="time" id="Time-End" name="Time-End" required>
                </div>
                <div class="form-group">
                    <label for="Description">Job/Service Order Description</label>
                    <textarea id="Description" name="Description" required></textarea>
                </div>
                <div class="form-group">
                    <label for="Comments">Technician Comments</label>
                    <textarea id="Comments" name="Comments"></textarea>
                </div>
                <div class="form-group">
                    <button type="submit" id="submit-btn" class="iphone-button">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <script>
      function submitForm(event) {
        event.preventDefault(); // Prevent form submission

        var form = document.getElementById("tracker-form");
        var formData = new FormData(form);
        var xhr = new XMLHttpRequest();

        xhr.open("POST", "https://script.google.com/macros/s/AKfycbzSqU-uasDxVeZjWd1UNW89CMNu-6fS4VzYUtKXd_cRfOW77fjnAA25ImQzO8d3dnzT/exec", true); // Replace with your Google Apps Script URL
        xhr.send(formData);

        // Handle the response if needed
        xhr.onload = function() {
          if (xhr.status === 200) {
            alert("Form submitted successfully!");
            form.reset(); // Clear the form
          } else {
            alert("Error submitting the form. Please try again.");
          }
        };
      }
    </script>
</body>
</html>
